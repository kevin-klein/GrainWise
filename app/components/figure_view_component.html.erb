<svg viewBox='<%= "0 0 #{@image.width} #{@image.height}" %>'>
  <image width='<%= @image.width %>' height='<%= @image.height %>' href='<%= @image.url %>' />

  <% @figures.each do |figure| %>
    <% if figure.manual_bounding_box %>
      <polyline
          points='<%= manual_contour_path(figure.manual_contour) %>'
          fill='#3F51B5'
          stroke='#3F51B5'
          strokeWidth='5'
          opacity='.5'
        />
        <text
          x='<%= figure.x1 %>'
          y='<%= figure.y1 %>'
          style='font-size: 36px;'
          color="#3F51B5"
          >
          <%= figure.type %> <%= figure.id %>
        </text>
    <% else %>
      <polyline
        points='<%= contour_path(figure, figure.contour) %>'
        fill='#3F51B5'
        stroke='#3F51B5'
        strokeWidth='5'
        opacity='.5'
      />
      <text
        x='<%= figure.x1 %>'
        y='<%= figure.y1 %>'
        style='font-size: 36px;'
        >
        <%= figure.type %> <%= figure.id %>
      </text>
    <% end %>
  <% end %>
</svg>
